{"name":"Jgit-describe","tagline":"An ant task that emulates git-describe using jgit","body":"JGit-Describe\r\n=============\r\nThe [DMDirc Project](http://www.dmdirc.com/) uses `git describe` to version all of its jars, which includes a large number of plugins which are built at build time as well as the main client itself. Due to changes to ANT some time ago which killed the performance of the `<exec />` task that was previously used for this we had a need for a proper ant task to do this job.\r\n\r\nBased off [erussell/jgit-describe] (in turn based off [mdonoughe/jgit-describe]) this is a slightly customised version of the original jgit-describe that supports passing a sub dir to the task such that the version of the last commit that affected that subdir is used, rather than the version of the whole repo. (This was required for the DMDirc plugin versioning.)\r\n\r\nAs well as subdir support, this version can also handle .git-file based git repos (eg, submodules mainly).\r\n\r\nThis uses the wonderful [jgit](https://github.com/eclipse/jgit) library for any actual interaction with git, and both the jgit-describe.jar and a jgit.jar will be required to use this.\r\n\r\n(In future I will have the build script merge the required jgit files into the a separate jgit-describe-full.jar or so so that only a single jar is required.)\r\n\r\nReleases\r\n--------\r\nThe latest released version of this project is [here](releases/jgit-describe-0.6.jar).\r\n\r\nOther releases can be found [here](https://github.com/ShaneMcC/jgit-describe/releases).\r\n\r\nBuilding\r\n--------\r\nIf this is a fresh or newly updated checkout, run `git submodule update --init` to get the latest jgit submodule and then run `ant` (or `ant jar` to actually build the jar file.\r\n\r\nCI\r\n--\r\n\r\nJGit-Describe Uses Travis-CI for Continuous Integration, the status of which is shown below.\r\n\r\nAll pull requests must pass CI before being accepted.\r\n\r\n[![Build Status](https://travis-ci.org/ShaneMcC/jgit-describe.svg?branch=master)](https://travis-ci.org/ShaneMcC/jgit-describe)\r\n\r\nUsage\r\n-----\r\nAdd a taskdef like the following to your build.xml.\r\n\r\n    <taskdef name=\"git-describe\" classname=\"org.mdonoughe.JGitDescribeTask\" classpath=\"lib/jgit-describe.jar:lib/jgit.jar\"/>\r\n\r\n\r\n\r\nTo use the new git-describe task to populate a property with a string describing the current HEAD revision:\r\n\r\n    <git-describe dir=\".git\" property=\"describe\"/>\r\n\r\n`dir` is the path to the .git directory\r\n`property` is the name of the property to populate\r\n\r\n\r\n\r\nTo use the new git-describe task to populate a property with a string describing the last revision to affect the \"src/co/uk/shanemcc/foobar\" sub directory do:\r\n\r\n    <git-describe dir=\".git\" property=\"describe\" subdir=\"src/co/uk/shanemcc/foobar\" />\r\n\r\n`subdir` is a path relative to the git repository root (NOT the current directory). This should also always use a forward slash (/) not a backslash (\\) even on windows. (Although jgit-describe will automatically handle this if required). It is also possible to pass multiple paths in using a semi-colon (;) eg:\r\n\r\n    <git-describe dir=\".git\" property=\"describe\" subdir=\"src/co/uk/shanemcc/foobar;src/co/uk/shanemcc/baz\" />\r\n\r\nThis will use the most recent commit that affected either repository.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}